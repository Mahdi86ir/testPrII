import { ChangeEvent, useState } from 'react'
import './Rules.css'


interface RulesProps {
    startQuiz:(age:number , hasMindProblem:boolean)=>void
}

function UserAge({startQuiz}:RulesProps){
    const [userAge, setUserAge] = useState(0)
    const [hasMindProblem , setHasMindProblem] = useState(false)
    const [isFill , setIsFill] = useState(true)
    const saveAge = (e:ChangeEvent<HTMLInputElement>)=>{
        setUserAge(+e.target.value)
    }

    const chekInp = () => {
        if(userAge != 0){ 
            startQuiz(userAge , hasMindProblem)
        }else{
            setIsFill(false)
        }
    }

    return(
        <div className='age-container'>
            <h2>ูุทูุง ุณู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ</h2>
            <span>
                <input type="text" onChange={(e)=> saveAge(e)} />
                {!isFill && <p>ูุทูุง ุณู ุฑุง ูุงุฑุฏ ฺฉูุฏ ๐</p>}
            </span>
            <span>
              <input required type="checkbox" onClick={()=>setHasMindProblem(true)} name="" id="" />
              <label>ุขุง ฺฉูุฏฺฉ ูุดฺฉูฺฉ ุจู ูุงุชูุงู ุฐูู ุงุณุชุ</label>
            </span>
            <span>
                <button type="button" onClick={() => chekInp()} className='btn'>ุตูุญู ุจุนุฏ</button>
            </span>
        </div>
    )
}


function Notes({startQuiz}:RulesProps){
    const [ lastStep , setLastStep] = useState(false)
    return(
        <>
            {lastStep ? <UserAge startQuiz={startQuiz}/> : (
                    <div className='notes'>
                        <p>ุฏูุช ฺฉูุฏ ูฺฺฏููู ุฑุงูููุง ุฏุฑ ุงู ุจุฎุด ูุฌุงุฒ ูุณุช. ุชููุง ุจุงุฏ ุจู ุชุตูุฑ ุงุดุงุฑู ฺฉูุฏ ู ุจูพุฑุณุฏ : ยซุงู ฺุณุชุยป. ูุทูุงู ุญุงูุงุช ุฒุฑ ุฑุง ุฏุฑูุธุฑ ุจฺฏุฑุฏ:</p>
                        <ul>
                            <li>ูพุงุณุฎโูุง ูุฒุฏฺฉ: <br />ุงฺฏุฑ ุดุฑฺฉุชโฺฉููุฏู ูพุงุณุฎ ููุงุณุจ ุงูุง ูุฒุฏฺฉ ุจู ูพุงุณุฎ ุงุตู ุงุฑุงุฆู ุฏูุฏุ ูุซูุงู ุจู ุฌุง ยซููุงูยป ุจฺฏูุฏ ยซุธุฑู ุขุจยปุ ุจู ุงู ุจฺฏูุฏ : ยซุฏุฑุณุช ุงุณุช ุงูุง ฺู ุงุณู ุฏฺฏุฑ ุฏุงุฑุฏุยป ุชุง ูพุงุณุฎุด ุดูุงู ุดูุฏ. </li>
                            <li>ูพุงุณุฎโูุง ฺฉู: <br />ุงฺฏุฑ ุดุฑฺฉุช ฺฉููุฏู ูพุงุณุฎ ููุงุณุจ ุงูุง ฺฉู ุงุฑุงุฆู ุฏูุฏุ ูุซูุงู ุจู ุฌุง ยซฺฏุฑุจูยป ุจฺฏูุฏ ยซุญูุงูยป ุ ุจู ุงู ุจฺฏูุฏ: ยซุฏุฑุณุช ุงุณุช ุงูุง ฺู ููุน ุญูุงูุยป ุชุง ูพุงุณุฎุด ุดูุงู ุดูุฏ. </li>
                            <li>ูพุงุณุฎโูุง ุนููฺฉุฑุฏ: <br />ุจู ุฌุง ุงุณู ฺุฒ ฺฉู ุฏุฑ ุชุตูุฑ ูโุจูุฏุ ุนูฺฉูุฑุฏ ุขู ุฑุง ุชูุถุญ ุฏูุฏุ ูุซูุงู ุจู ุฌุง ยซููุงูยป ุจฺฏูุฏ ยซุจุง ุขู ุขุจ ูโุฎูุฑูยปุ ุจู ุงู ุจฺฏูุฏ: ยซุฏุฑุณุช ุงุณุช ุงูุง ุงุณูุด ฺุณุชุยป ุชุง ูพุงุณุฎุด ุฑุง ุดูุงู ฺฉูุฏ.</li>
                            <li>ููุงุด ุจุง ุตูุฑุช ู ุจุฏู: <br />ุจู ุฌุง ุจุงู ุงุณู ุชุตูุฑุ ุขู ุฑุง ุจุง ุจุฏู ู ุตูุฑุช ูุดุงู ุฏูุฏ. ูุซูุงู ุจู ุฌุง ฺฏูุชู ยซููุงูยปุ ูุงูููุฏ ฺฉูุฏ ฺฉู ุฏุงุฑุฏ ุขุจ ูโุฎูุฑุฏ ุจู ุงู ุจฺฏูุฏ: ยซุฏุฑุณุช ุงุณุช ุงูุง ุงุณูุด ฺุณุชุยป ุชุง ูพุงุณุฎุด ุฑุง ุดูุงู ฺฉูุฏ.</li>
                            <li>ูพุงุณุฎโูุง ุดุฎุต: <br />ุจู ุฌุง ุจุงู ุงุณูุ ูพุงุณุฎโูุง ูุซู ุงูฺฉู ยซูู ฺฉ ุงุฒ ุงููุง ุฏุงุฑูยป ุง ยซูุงุฏุฑู ุจุฑุงู ุฎุฑุฏูโ ุงุณุชยป ู ุง ุงุณุงู ุฎุงุต ู ุฏุงุณุชุงู ุจุงู ฺฉูุฏุ ุจฺฏูุฏ: ยซุฏุฑุณุช ุงุณุช ุงูุง ุงุณูุด ฺุณุชุยป ุชุง ูพุงุณุฎุด ุฑุง ุดูุงู ฺฉูุฏ.</li>
                        </ul>
                        <p style={{color:"orange"}}>ุฏุฑุตูุฑุช ฺฉู ุฏุฑ ูพูุฌ ุญุงูุช ุจุงูุงุ ุชูุถุญ ุงุถุงูู ูุฏูุฏ ู ูพุงุณุฎุด ุฑุง ุดูุงู ูฺฉูุฏุ ุจุฑุง ุงู ููุฑ 0 ุซุจุช ฺฉูุฏ.</p>
                        <p>ุจุฑุง ุดุฑูุน ุจุฎุด ุชุตูุฑ ุขุฒูููุ ุฑู ุฏฺฉู ุฒุฑ ฺฉูฺฉ ฺฉูุฏ</p>
                        <span>
                            <button type="button" onClick={()=> setLastStep(true) } className='btn'>ุดุฑูุน ุขุฒููู</button>
                        </span>
                    </div>
            )}
        </>
    )
}

function QuizRules({startQuiz}:RulesProps){

    const [nextStep , setNextStep] = useState(false)

    return (
        <>
            {nextStep ? <Notes startQuiz={startQuiz}/> : (<div className='rules'>
                <h2>ูุทูุงู ููุงุนุฏ ุงุฌุฑุง ุจุฎุด ุชุตูุฑ ุขุฒููู ุฑุง ุจุง ุฏูุช ูุทุงูุนู ฺฉูุฏ:</h2>
                <p>ุฏุฑ ุงู ุจุฎุดุ ูพุงุณุฎ ุดุฑฺฉุช ฺฉููุฏู ุจุฑ ุงุณุงุณ ุฏุฑุณุช ุง ุบูุท ุจูุฏูุ 1 ุง 0 ููุฑู ูโฺฏุฑุฏ. ุจุฑุง ูุฑ ุณุคุงู ููุงููุฏ ูููู ุฒุฑุ 
                ุฏู ฺฉุงุฏุฑ ูพุงุณุฎ ุฏุฑ ุฒุฑ ุชุตูุฑ ูุญุฑฺฉ ูุฌูุฏ ุฏุงุฑุฏ. ุดูุง ุจุงุฏ ูพุงุณุฎโ ุดุฑฺฉุชโฺฉููุฏู ุฑุง ุจุง ูพุงุณุฎโูุง ุงุฑุงุฆู ุดุฏู ุฏุฑ ุงู ฺฉุงุฏุฑูุง 
                ููุงุณู ฺฉูุฏ ู ุจุฑ ุงุณุงุณ ุขููุงุ ููุฑ ุดุฑฺฉุช ฺฉููุฏู ุฑุง ูุดุฎุต ฺฉูุฏ. </p>
                <span>
                    <button type="button" onClick={()=>setNextStep(true)} className='btn'>ุตูุญู ุจุนุฏ</button>
                </span>
            </div>) }
        </>
    )
}



export default function Rules({startQuiz}:RulesProps) {
    
    const [showRules , setShowRules] = useState<boolean>(false)
    
    const changeState = () => {
        setShowRules(true)
    }

    return (
        <section className='explain-container'>
            {showRules ? <QuizRules startQuiz={startQuiz}/> : (
                <div className='helper'>
                    <h2>ุฑุงูููุง ุขุฒููู</h2>
                    <p>ุฏุฑ ุงู ุขุฒููู ุงุจุชุฏุง ุชุนุฏุงุฏ ุชุตูุฑ ู ุจุนุฏ ุชุนุฏุงุฏ ฺฉููู ุงุฑุงุฆู ูโุดูุฏ ฺฉู ุขุฒูููโุฏููุฏู ุจุงุฏ ูุนูุง ุขูโูุง ุฑุง ุจุงู ฺฉูุฏ.  ุจุฑุง ูุดุงูุฏ ุฑุงูููุง ุจุฎุด ุชุตูุฑ ุขุฒูููุ ุฑู ุฏฺฉู ยซุตูุญ ุจุนุฏยป ฺฉูฺฉ ฺฉูุฏ. </p>
                    <span>
                        <button type="button" onClick={changeState} className='btn'>ุตูุญู ุจุนุฏ</button>
                    </span>
                </div>
            )}
        </section>
    )
}
